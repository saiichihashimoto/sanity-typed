import { describe, it } from "@jest/globals";
import { expectType } from "@saiichihashimoto/test-utils";

import { defineConfig, defineType } from "..";
import type { InferSchemaValues } from "..";
import { makeDefineArrayMember } from "../internal";

const defineArrayMember2 = makeDefineArrayMember<true>();

describe("array member depth test", () => {
  it("defineArrayMember 101 deep works", () => {
    const config = defineConfig({
      dataset: "dataset",
      projectId: "projectId",
      schema: {
        types: [
          defineType({
            name: "foo",
            type: "array",
            of: [
              defineArrayMember2({
                type: "array",
                of: [
                  defineArrayMember2({
                    type: "array",
                    of: [
                      defineArrayMember2({
                        type: "array",
                        of: [
                          defineArrayMember2({
                            type: "array",
                            of: [
                              defineArrayMember2({
                                type: "array",
                                of: [
                                  defineArrayMember2({
                                    type: "array",
                                    of: [
                                      defineArrayMember2({
                                        type: "array",
                                        of: [
                                          defineArrayMember2({
                                            type: "array",
                                            of: [
                                              defineArrayMember2({
                                                type: "array",
                                                of: [
                                                  defineArrayMember2({
                                                    type: "array",
                                                    of: [
                                                      defineArrayMember2({
                                                        type: "array",
                                                        of: [
                                                          defineArrayMember2({
                                                            type: "array",
                                                            of: [
                                                              defineArrayMember2(
                                                                {
                                                                  type: "array",
                                                                  of: [
                                                                    defineArrayMember2(
                                                                      {
                                                                        type: "array",
                                                                        of: [
                                                                          defineArrayMember2(
                                                                            {
                                                                              type: "array",
                                                                              of: [
                                                                                defineArrayMember2(
                                                                                  {
                                                                                    type: "array",
                                                                                    of: [
                                                                                      defineArrayMember2(
                                                                                        {
                                                                                          type: "array",
                                                                                          of: [
                                                                                            defineArrayMember2(
                                                                                              {
                                                                                                type: "array",
                                                                                                of: [
                                                                                                  defineArrayMember2(
                                                                                                    {
                                                                                                      type: "array",
                                                                                                      of: [
                                                                                                        defineArrayMember2(
                                                                                                          {
                                                                                                            type: "array",
                                                                                                            of: [
                                                                                                              defineArrayMember2(
                                                                                                                {
                                                                                                                  type: "array",
                                                                                                                  of: [
                                                                                                                    defineArrayMember2(
                                                                                                                      {
                                                                                                                        type: "array",
                                                                                                                        of: [
                                                                                                                          defineArrayMember2(
                                                                                                                            {
                                                                                                                              type: "array",
                                                                                                                              of: [
                                                                                                                                defineArrayMember2(
                                                                                                                                  {
                                                                                                                                    type: "array",
                                                                                                                                    of: [
                                                                                                                                      defineArrayMember2(
                                                                                                                                        {
                                                                                                                                          type: "array",
                                                                                                                                          of: [
                                                                                                                                            defineArrayMember2(
                                                                                                                                              {
                                                                                                                                                type: "array",
                                                                                                                                                of: [
                                                                                                                                                  defineArrayMember2(
                                                                                                                                                    {
                                                                                                                                                      type: "array",
                                                                                                                                                      of: [
                                                                                                                                                        defineArrayMember2(
                                                                                                                                                          {
                                                                                                                                                            type: "array",
                                                                                                                                                            of: [
                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                {
                                                                                                                                                                  type: "array",
                                                                                                                                                                  of: [
                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                      {
                                                                                                                                                                        type: "array",
                                                                                                                                                                        of: [
                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                            {
                                                                                                                                                                              type: "array",
                                                                                                                                                                              of: [
                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                  {
                                                                                                                                                                                    type: "array",
                                                                                                                                                                                    of: [
                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                        {
                                                                                                                                                                                          type: "array",
                                                                                                                                                                                          of: [
                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                              {
                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                of: [
                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                    {
                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                      of: [
                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                          {
                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                            of: [
                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                {
                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                      {
                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                            {
                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            type: "array",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            of: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              defineArrayMember2(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  type: "boolean",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                              ),
                                                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                        ),
                                                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                  ),
                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                            ),
                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                      ),
                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                ),
                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                          ),
                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                      }
                                                                                                                                                                                                                    ),
                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                }
                                                                                                                                                                                                              ),
                                                                                                                                                                                                            ],
                                                                                                                                                                                                          }
                                                                                                                                                                                                        ),
                                                                                                                                                                                                      ],
                                                                                                                                                                                                    }
                                                                                                                                                                                                  ),
                                                                                                                                                                                                ],
                                                                                                                                                                                              }
                                                                                                                                                                                            ),
                                                                                                                                                                                          ],
                                                                                                                                                                                        }
                                                                                                                                                                                      ),
                                                                                                                                                                                    ],
                                                                                                                                                                                  }
                                                                                                                                                                                ),
                                                                                                                                                                              ],
                                                                                                                                                                            }
                                                                                                                                                                          ),
                                                                                                                                                                        ],
                                                                                                                                                                      }
                                                                                                                                                                    ),
                                                                                                                                                                  ],
                                                                                                                                                                }
                                                                                                                                                              ),
                                                                                                                                                            ],
                                                                                                                                                          }
                                                                                                                                                        ),
                                                                                                                                                      ],
                                                                                                                                                    }
                                                                                                                                                  ),
                                                                                                                                                ],
                                                                                                                                              }
                                                                                                                                            ),
                                                                                                                                          ],
                                                                                                                                        }
                                                                                                                                      ),
                                                                                                                                    ],
                                                                                                                                  }
                                                                                                                                ),
                                                                                                                              ],
                                                                                                                            }
                                                                                                                          ),
                                                                                                                        ],
                                                                                                                      }
                                                                                                                    ),
                                                                                                                  ],
                                                                                                                }
                                                                                                              ),
                                                                                                            ],
                                                                                                          }
                                                                                                        ),
                                                                                                      ],
                                                                                                    }
                                                                                                  ),
                                                                                                ],
                                                                                              }
                                                                                            ),
                                                                                          ],
                                                                                        }
                                                                                      ),
                                                                                    ],
                                                                                  }
                                                                                ),
                                                                              ],
                                                                            }
                                                                          ),
                                                                        ],
                                                                      }
                                                                    ),
                                                                  ],
                                                                }
                                                              ),
                                                            ],
                                                          }),
                                                        ],
                                                      }),
                                                    ],
                                                  }),
                                                ],
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      },
    });

    expectType<InferSchemaValues<typeof config>["foo"]>().toStrictEqual<
      boolean[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
    >();
  });
});
